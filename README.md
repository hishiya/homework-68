# Dockerized Node.js Application with MongoDB

Цей проєкт демонструє, як налаштувати та запустити Node.js додаток із MongoDB за допомогою Docker та Docker Compose.

## Передумови

Перед початком роботи переконайтеся, що на вашій системі встановлено:

- [Docker](https://www.docker.com/get-started)
- [Docker Compose](https://docs.docker.com/compose/install/)

## Структура проєкту

```
/homework-68
├── app.js                # Головний файл Node.js додатка
├── Dockerfile            # Dockerfile для створення образу Node.js додатка
├── docker-compose.yml    # Файл конфігурації Docker Compose
├── package.json          # Залежності Node.js
├── package-lock.json     # Точні версії залежностей
├── .env                  # Файл для зберігання змінних середовища
├── .dockerignore         # Файл для виключення файлів із Docker-контейнера
├── node_modules/         # Папка з встановленими залежностями Node.js (не копіюється в контейнер)
└── README.md             # Документація проєкту
```

## Як запустити додаток

1. **Клонувати репозиторій** (якщо потрібно):
   ```bash
   git clone <repository-url>
   cd homework-68
   ```

2. **Створити файл `.env`** (опціонально):
   Якщо ви хочете використовувати власний MongoDB URI, створіть файл `.env` у кореневій директорії та додайте наступний рядок:
   ```env
   MONGODB_URI=mongodb://<ваш-mongo-хост>:<ваш-mongo-порт>/<ваша-база-даних>
   ```
   Якщо ви не створите файл `.env`, буде використано стандартний MongoDB URI.

3. **Зібрати та запустити контейнери**:
   Виконайте наступну команду, щоб зібрати Docker-образи та запустити контейнери:
   ```bash
   docker-compose up --build
   ```
   Ця команда:
   - Збере Docker-образ для Node.js додатка за допомогою `Dockerfile`.
   - Завантажить офіційний образ MongoDB із Docker Hub.
   - Запустить обидва контейнери (`my-app` і `mongo-db`).

4. **Доступ до додатка**:
   Відкрийте браузер і перейдіть за посиланням:
   ```
   http://localhost:3000
   ```
   Ви побачите привітальне повідомлення та випадково згенероване ім'я кота.

5. **Тестування додатка**:
   - Оновіть сторінку, щоб створити нового кота в базі даних MongoDB.
   - Перевірте логи в терміналі, щоб побачити статус підключення до бази даних та можливі помилки.

6. **Зупинка контейнери**:
   Щоб зупинити контейнери, натисніть `Ctrl+C` у терміналі, де запущено `docker-compose`. Або виконайте команду:
   ```bash
   docker-compose down
   ```

## Примітки

- Конфігурація `volumes` у `docker-compose.yml` забезпечує, що зміни у локальних файлах автоматично відображаються в контейнері без необхідності його перевстановлення.
- Якщо виникають проблеми з правами доступу або синхронізацією файлів, переконайтеся, що Docker налаштований правильно, а SELinux (якщо увімкнено) не блокує доступ до файлів.

## Вирішення проблем

- **Помилка: `docker-compose` не знайдено**:
  Переконайтеся, що Docker Compose встановлено. Ви можете встановити його, дотримуючись [офіційного посібника](https://docs.docker.com/compose/install/).

- **Проблеми з підключенням до MongoDB**:
  Переконайтеся, що `MONGODB_URI` вказано правильно і що сервіс `mongo-db` запущено.

- **Зміни не відображаються в контейнері**:
  Якщо зміни у вашому коді не відображаються, переконайтеся, що `volumes` правильно налаштовані у `docker-compose.yml`. Якщо проблема залишається, перезапустіть контейнер:
  ```bash
  docker-compose restart
  ```

## Додаткові ресурси

- [Документація Docker](https://docs.docker.com/)
- [Документація Docker Compose](https://docs.docker.com/compose/)
- [Документація Node.js](https://nodejs.org/en/docs/)
- [Документація MongoDB](https://www.mongodb.com/docs/)